require('dotenv').config()
const { Telegraf, Markup, Scenes, session } = require('telegraf');
const { addCommentScene, searchNumberScene, writeDeveloperScene } = require('./scenes'); // –Ü–º–ø–æ—Ä—Ç—É—î–º–æ —Å—Ü–µ–Ω–∏

const { faker } = require('@faker-js/faker');

const { addUser, updateUser } = require('./controller/user.controller')
const pool = require('./db/db')
const bot = new Telegraf(process.env.BOT_TOKEN)
// –ù–∞–ª–∞—à—Ç–æ–≤—É—î–º–æ Stage –¥–ª—è —Å—Ü–µ–Ω
const stage = new Scenes.Stage([addCommentScene, searchNumberScene,writeDeveloperScene]);
bot.use(session());
bot.use(stage.middleware()); // –î–æ–¥–∞—î–º–æ —Å—Ü–µ–Ω—É —è–∫ middleware
bot.start(async (ctx) => {
    const { rows } = await pool.query(
        'SELECT * FROM bot_users WHERE tg_id = $1', 
        [ctx.message.from.id]  // –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –ø–∞—Ä–∞–º–µ—Ç—Ä, —â–æ–± —É–Ω–∏–∫–Ω—É—Ç–∏ SQL-—ñ–Ω'—î–∫—Ü—ñ–π
    );
    if (rows.length <= 0) {
        addUser(ctx.message.from.id,ctx.message.from.username)
    }else {
        updateUser(ctx.message.from.id,ctx.message.from.username)
    }
    const keyboard = [
        [
          { text: '‚úèÔ∏è –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä' },  // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
          { text: 'üîç –ü–æ—à—É–∫ –Ω–æ–º–µ—Ä—É' }   // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ—à—É–∫—É –Ω–æ–º–µ—Ä—É
        ],
        [
          { text: 'üíñ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç' }  // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–æ–µ–∫—Ç—É
        ],
        [
          { text: `–ù–∞–ø–∏—Å–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—Éüßë‚Äçüíª` }  // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–æ–µ–∫—Ç—É
        ]
      ];
    
      // –í—ñ–¥–ø—Ä–∞–≤–ª—è—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –∑ –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–æ—é, —è–∫–∞ –±—É–¥–µ –ø—ñ–¥ –ø–æ–ª–µ–º –≤–≤–æ–¥—É
      ctx.reply('–í–∏–±–µ—Ä—ñ—Ç—å –¥—ñ—é:', {
        reply_markup: {
          keyboard: keyboard,

          resize_keyboard: true     // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω—é—î —Ä–æ–∑–º—ñ—Ä –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –ø—ñ–¥ –µ–∫—Ä–∞–Ω
        }
      });

});
// –û–±—Ä–æ–±–Ω–∏–∫–∏ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è –∫–Ω–æ–ø–æ–∫
bot.hears('‚úèÔ∏è –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä', (ctx) => {
    ctx.scene.enter('add_comment');  // –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å—Ü–µ–Ω–∏ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
  });
  bot.hears('üîç –ü–æ—à—É–∫ –Ω–æ–º–µ—Ä—É', (ctx) => {
    ctx.scene.enter('search_number');  // –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å—Ü–µ–Ω–∏ –¥–ª—è –ø–æ—à—É–∫—É –Ω–æ–º–µ—Ä—É
 
  });
  bot.hears('üíñ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç', async(ctx) => {
    const keyboard = [
      [
        { text: '‚úèÔ∏è –î–æ–¥–∞—Ç–∏ –∫–æ–º–µ–Ω—Ç–∞—Ä' },  // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –¥–æ–¥–∞–≤–∞–Ω–Ω—è –∫–æ–º–µ–Ω—Ç–∞—Ä—è
        { text: 'üîç –ü–æ—à—É–∫ –Ω–æ–º–µ—Ä—É' }   // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ—à—É–∫—É –Ω–æ–º–µ—Ä—É
      ],
      [
        { text: 'üíñ –ü—ñ–¥—Ç—Ä–∏–º–∞—Ç–∏ –ø—Ä–æ–µ–∫—Ç' }  // –ö–Ω–æ–ø–∫–∞ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–æ–µ–∫—Ç—É
      ],

    ];
    // –í–∏–≤–æ–¥–∏–º–æ —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –ø—ñ–¥—Ç—Ä–∏–º–∫–∏ –ø—Ä–æ–µ–∫—Ç—É
   await ctx.reply('–î—è–∫—É—î–º–æ –∑–∞ –≤–∞—à—É –ø—ñ–¥—Ç—Ä–∏–º–∫—É! –û—Å—å —Ä–µ–∫–≤—ñ–∑–∏—Ç–∏ –¥–ª—è –¥–æ–Ω–∞—Ç—É:\n\n*–ü—Ä–æ—Å—Ç–æ –Ω–∞—Ç–∏—Å–Ω—ñ—Å—Ç—å –Ω–∞ –Ω–æ–º–µ—Ä –∫–∞—Ä—Ç–∏ —ñ –≤—ñ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∫–æ–ø—ñ—é—î—Ç—å—Å—è*',{
    parse_mode: 'Markdown'
   });
  


   await ctx.reply("MONO `4441111059239701` \n\nPrivat `5363542108614588`", {
    parse_mode: 'Markdown',    reply_markup: {
      keyboard: keyboard,
      one_time_keyboard: true,  // –ö–ª–∞–≤—ñ–∞—Ç—É—Ä–∞ –∑–Ω–∏–∫–Ω–µ –ø—ñ—Å–ª—è –≤–∏–±–æ—Ä—É
      resize_keyboard: true     // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–º—ñ–Ω—é—î —Ä–æ–∑–º—ñ—Ä –∫–ª–∞–≤—ñ–∞—Ç—É—Ä–∏ –ø—ñ–¥ –µ–∫—Ä–∞–Ω
    }
  });

  });
  bot.hears('–ù–∞–ø–∏—Å–∞—Ç–∏ —Ä–æ–∑—Ä–æ–±–Ω–∏–∫—Éüßë‚Äçüíª', async(ctx) => {
    ctx.scene.enter('write_owner');  // –ü–µ—Ä–µ—Ö—ñ–¥ –¥–æ —Å—Ü–µ–Ω–∏ –¥–ª—è –ø–æ—à—É–∫—É –Ω–æ–º–µ—Ä—É


  });



  bot.command('help',async (ctx) =>{
    await ctx.reply
  })








// –ú–∞—Å—Å–∏–≤ —É–∫—Ä–∞—ó–Ω—Å—å–∫–∏—Ö –ø—Ä–µ—Ñ—ñ–∫—Å—ñ–≤ –Ω–æ–º–µ—Ä—ñ–≤ —Ç–µ–ª–µ—Ñ–æ–Ω—ñ–≤
const prefixes = ['098', '097', '099', '093', '073', '067'];

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö —Ç–µ–ª–µ—Ñ–æ–Ω–Ω–∏—Ö –Ω–æ–º–µ—Ä—ñ–≤
function generatePhoneNumber() {
  const prefix = prefixes[Math.floor(Math.random() * prefixes.length)];
  const number = Math.floor(Math.random() * 1000000).toString().padStart(7, '0');
  return prefix + number;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó –≤–∏–ø–∞–¥–∫–æ–≤–∏—Ö –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
function generateComment() {
  const positiveComments = [
    '–ø—É–ø—Å, —Ç–∏ –ø—Ä–æ—Å—Ç–æ –∫–∞–π—Ñ üòé',
    '—Ö–∞—Ö, —Ç–≤—ñ–π –Ω–æ–º–µ—Ä –∫—Ä—É—Ç–∏–π, —Ç—ñ–ª—å–∫–∏ —Ç–∏ —ñ–Ω–∫–æ–ª–∏ —Ç—É–ø–∏—à ü§£',
    '—Ç–∏ —Ç–∞–∫–∏–π –º–∏–ª–∏–π, –º—ñ–π –∫–æ—Ö–∞–Ω–∏–π üòç',
    '—Ç–æ–ø—á–∏–∫, –∑ —Ç–æ–±–æ—é –∑–∞–≤–∂–¥–∏ –≤–µ—Å–µ–ª–æ üòÜ',
    '–º–∏–ª–∞—à–∫–∞, —Ç–∏ —Ç–∞–∫–∏–π –∫–ª–∞—Å–Ω–∏–π üòò',
    '–Ω–æ—Ä–º, —á—É–≤–∞—á–æ–∫, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –Ω–∞ –Ω–µ—Ä–≤–∞—Ö üòÇ',
    '–≤—Å–µ –æ–∫, –∞–ª–µ –Ω–µ –∑–∞–≤–∂–¥–∏ —Ä–æ–∑—É–º—ñ—î—à üòÇ',
    '—Ç–∏ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ –∫–ª–∞—Å–Ω–∏–π, –∞–ª–µ —Ç—Ä–æ—Ö–∏ –±—ñ–¥–ª–æ üòÖ',
    '—à–≤–∏–¥–∫–æ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à, –º–æ–ª–æ–¥–µ—Ü—å üòè',
    '—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ –º—ñ–ª–∞—à–∫–∞, –Ω–µ –∑–Ω—ñ–º–∞–π –≤–∂–µ üòÇ',
    '—Ç–∏ —à–∞–ª–µ–Ω–æ –∫—Ä—É—Ç–∏–π, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –¥—Ä–∞—Ç—É—î—à üòÖ',
    '–Ω—É —Ç–∏ —ñ —Å–º—ñ—à–Ω–∏–π, –±–µ–∑ —Ç–µ–±–µ —Å–∫—É—á–Ω–æ üíÄ',
    '–ø–æ–∫–∞–∂–∏ —â–µ, —è–∫ —Ç–∏ —Å–º—ñ—à–Ω–æ —Ä–µ–∞–≥—É—î—à üòÇ',
    '–º—ñ–π –ø—É–ø—Å–∏–∫, –∫–æ–ª–∏ –∑—É—Å—Ç—Ä—ñ—á–∞—î–º–æ—Å—å? üòú',
    '–Ω—É —Ç–∏ —Ä–µ–∞–ª—å–Ω–æ –ø—Ä–∏–∫–æ–ª—å–Ω–∏–π, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ —Ç–æ—Ä–º–æ–∑–∏—à üê¢',
    '–ø—ñ–¥—Ö–æ–¥–∏—à, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –∑–¥–∞—î—Ç—å—Å—è, —â–æ –Ω–µ –Ω–æ—Ä–º üôÑ',
    '–Ω–æ—Ä–º, –∞–ª–µ —Ç—Ä–æ—Ö–∏ –∑–∞—à–∫–≤–∞—Ä üòè',
    '—Ç–∏ —Ç–∞–∫ –∫–ª–∞—Å–Ω–æ —Å–ø—ñ–ª–∫—É—î—à—Å—è, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ —Å–∫–∏–¥–∞—î—à ü§¶‚Äç‚ôÇÔ∏è',
    '—Ç—ã –ø–æ—Ö–æ–∂ –Ω–∞ —Ç–µ, —á—Ç–æ –¥–∞–µ—à—å, –¥–∞, –Ω–æ –∏–Ω–æ–≥–¥–∞ –Ω–µ –ø–æ —Ç–µ–º–µ üòÖ',
    '—Ü–µ –º–æ—î, –ø—Ä–æ—Å—Ç–æ –∫–æ–ª–∏ —Ç–∏ –Ω–µ —Ç—É–ø–∏—à, —Å—É–ø–µ—Ä üòÇ',
    '—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ –∑–∞—à–∫–≤–∞—Ä, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ —Å—É–ø–µ—Ä üíÄ',
    '–º–º–º, –Ω–æ—Ä–º –ø–∞—Ü–∞–Ω, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –∑–∞—Å–∫—É—á–∞–≤ ü§®',
    '—Ö–æ—á–µ—à –≤–∏–π—Ç–∏ –Ω–∞ –∑–≤‚Äô—è–∑–æ–∫? üòÇ',
    '—Ç–µ–±–µ –Ω–µ –º–æ–∂–Ω–∞ –æ—Å—Ç–∞–≤–ª—è—Ç–∏ –Ω–∞ –æ–¥–∏–Ω, –±–æ —Ç–∏ –º—Ä—ñ–π–Ω–∏–∫ üòú',
    '—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ —Å—É–º–Ω–∏–π, –∞–ª–µ —è–∫ –∫—É–º–µ–¥–Ω–æ üòâ',
    '—Ö–æ—á —ñ –Ω–µ —ñ–¥–µ–∞–ª—å–Ω–∏–π, –∞–ª–µ –¥—É–∂–µ –ø—Ä–∏–∫–æ–ª—å–Ω–∏–π ü§™',
    '—Å–∏–ª—å–Ω–æ –Ω–µ —Ç–∏—Å–Ω–∏, –±–æ —â–µ —â–æ—Å—å –ª–æ–ø–Ω–µ üòÇ',
    '—Ç–∏ —Ü—ñ–∫–∞–≤–∞ –æ—Å–æ–±–∏—Å—Ç—ñ—Å—Ç—å, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –≥—ñ—Ä—à–µ ‚ò†Ô∏è',
    '—è–∫ –±–∏ —Ç–∏ –Ω–µ –≤–∏–≥–ª—è–¥–∞–≤, —Ç–≤–æ—è –ø–æ–≤–µ–¥—ñ–Ω–∫–∞ —Ç–∏–ø–æ–≤–∞ üòÜ',
    '–≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à —à–≤–∏–¥–∫–æ, –∞–ª–µ –¥–µ—è–∫—ñ —Ä–µ—á—ñ –Ω–µ –∑–æ–≤—Å—ñ–º —Ç–æ—á–Ω—ñ ü§£',
    '–≤—Å–µ –± –Ω—ñ—á–æ–≥–æ, –∞–ª–µ –≤—Å–µ –æ–¥–Ω–æ –Ω–µ –≤–∏—Å—Ç–∞—á–∞—î –∫—Ä–µ–∞—Ç–∏–≤—É üòõ',
    '—Å—Ç—ñ–ª—å–∫–∏ —Ä–∞–∑—ñ–≤ –Ω–∞—Å–º—ñ—à–∏–≤, –∞–ª–µ –Ω–µ —Å—Ç—ñ–ª—å–∫–∏ –≤–∏–≥–ª—è–¥–∞—î—à ü§£',
    '–Ω—É —Ç–∏ –≤ –º–µ–Ω–µ –Ω–µ–Ω–æ—Ä–º–∞–ª—å–Ω–∏–π üòú',
    '–≤—Å–µ –∂ –≤ —Ç–µ–±–µ –∫–ª–∞—Å–Ω–æ, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –±–µ–∑ —Ä–æ–∑—É–º—É üòÖ',
    '—Å–ø–æ–∫—ñ–π–Ω–æ, –ø—É–ø—Å–∏–∫, —è –≤ —Ç–µ–±–µ –≤—ñ—Ä—é ü§ó',
    '–Ω—É –¥–∞, –ø–æ-–ª—é–±–æ–º—É –Ω–æ—Ä–º, –∞–ª–µ —á–æ–º—É –Ω–µ —Ä–æ–∑—É–º—ñ—î—à üôÑ',
    '–Ω—É –Ω–æ—Ä–º, –∞–ª–µ —Ç—ñ–ª—å–∫–∏ —Ä–∞–∑ –≤ —Ç–∏–∂–¥–µ–Ω—å üòé',
    '—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ —Ç—Ä–µ—à, –∞–ª–µ –º–∏ –ø–æ —Ç–≤–æ—î–º—É üòÇ',
    '–¥—É–∂–µ –∫–ª–∞—Å–Ω–∏–π, —Ç—ñ–ª—å–∫–∏ —Ä–æ–∑—Å–ª–∞–±—Å—è –Ω–∞ –ø–∞—Ä—É –≥–æ–¥–∏–Ω üòâ',
    '—á—É–≤–∞—á–æ–∫, –∑–Ω–æ–≤—É —Ç—É–ø–∏—à, –∞ —è –¥—É–º–∞–≤ —Ç–∏ —Ä–æ–∑—É–º–Ω–∏–π üòÖ',
    '–Ω–µ –¥–∏–≤–∏—Å—å –Ω–∞ –º–µ–Ω–µ, —è –æ–±—Ä–∞–∂–∞—é—Å—å üòú',
    '—Ç—ñ–ø–∞ —è —Ç–µ–±–µ –±–∞—á—É –Ω–æ—Ä–º, –∞–ª–µ —Ç–∏ —ñ–Ω–∫–æ–ª–∏ –ø—ñ–ø–µ—Ü—å ü§£',
    '—Ç–≤–æ—è –ª–æ–≥—ñ–∫–∞: –∑–∞–≤–∂–¥–∏ —Ç—Ä–æ—Ö–∏ —Ç—É–ø–æ, –∞–ª–µ —Å–º—ñ—à–Ω–æ üòú',
    '—Ç–∏ —Å—É–ø–µ—Ä, –∫–æ–ª–∏ –Ω–µ —Ç—Ä–æ–ª–∏—à üòÇ',
    '—ñ–Ω–∫–æ–ª–∏ –¥–∏–≤–ª—é—Å—å –Ω–∞ —Ç–µ–±–µ —ñ –Ω–µ –º–æ–∂—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ —Ç–∏ —Ö–æ—á–µ—à üòÜ',
    '—Ç–∏ –∑–∞—à–∫–≤–∞—Ä, –∞–ª–µ —á–µ—Ä–µ–∑ –ø–∞—Ä—É —Ö–≤–∏–ª–∏–Ω –≤—Å–µ –≤—ñ–¥–Ω–æ–≤–ª—é—î—Ç—å—Å—è üòÖ',
    '—Ç–∏ —Ç–∞–∫–∏–π, —à–æ –ø—Ä—è–º –≤–∞—É üòç',
    '—Ç–∏ —Ä–µ–∞–ª—å–Ω–æ –∫—Ä—É—Ç–∏–π, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ –≤—Å–µ –∑–º—ñ–Ω—é—î—Ç—å—Å—è üòú',
    '–¥—É–º–∞—é, —â–æ –∑–Ω–æ–≤—É –ø–æ–º–∏–ª—è—é—Å—å, –∞–ª–µ —Ç–∏ –ø—Ä–∏–∫–æ–ª—å–Ω–∏–π üëÄ',
    '–Ω—É —Ç–∏ —Ç–∏–ø—É –∫–ª–∞—Å–Ω–∏–π, –∞–ª–µ —è –Ω–µ –¥—É–∂–µ —Å–ø—Ä–∏–π–º–∞—é üòÖ',
    '—Ç–∏ –∑–∞–≤–∂–¥–∏ –∑–Ω–∞–π–¥–µ—à, —á–∏–º –∑–¥–∏–≤—É–≤–∞—Ç–∏ üòè',
    '—â–æ —Ç–∏ —Ç–∞–º —Å–æ–±—ñ –¥—É–º–∞—î—à, –Ω—É —Ç–∏–ø—É –¥–æ–±—Ä–µ üòÇ',
    '—è —Ç–µ–±–µ –ø—Ä–æ—Å—Ç–æ –æ–±–æ–∂–Ω—é—é, –∞–ª–µ –Ω–∞—Å–ø—Ä–∞–≤–¥—ñ —Ç–∏ —Ñ–µ–π–∫ üòú',
    '—Ç–∏ —Å—É–ø–µ—Ä, –∞–ª–µ –±–∞–≥–∞—Ç–æ –∂–∞—Ä—Ç—É—î—à üòÇ',
    '–Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ —Ç–∏ –Ω–µ —Ä–æ–±–∏—à –Ω—ñ—á–æ–≥–æ, –≤–∏–≥–ª—è–¥–∞—î—à –∫—É–º–µ–¥–Ω–æ üòÜ',
    '–Ω—É —Ç–∏, —Ç–∏–ø—É, –ø—É–ø—Å–∏–∫, –∞–ª–µ —Ç—Ä–æ—Ö–∏ –≥—Ä—É–±–∏–π —ñ–Ω–∫–æ–ª–∏ üòÖ',
    '–≤—ñ–Ω –∫–ª–∞—Å–Ω–∏–π, –∞–ª–µ —ñ–Ω–∫–æ–ª–∏ —Å–ª—ñ–ø–∏–π –Ω–∞ –æ—á—ñ üòè',
    '—è –Ω–µ –∑–Ω–∞—é —è–∫ —Ç–∏ —Ü–µ —Ä–æ–±–∏—à, –∞–ª–µ —Ü–µ —Å–º—ñ—à–Ω–æ üíÄ'
  ];
  

  const negativeComments = [
    '–¶–µ–π –ø—É–ø—Å –Ω–µ –±–µ—Ä–µ —Ç—Ä—É–±–∫—É, –≤—ñ–¥—Å—Ç–∞–Ω—å ***',
    '–í—ñ–¥ —Ü—å–æ–≥–æ —Ç–∏–ø—É –Ω—ñ—è–∫–æ—ó —Ç–æ–ª–∫—É, –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î ***',
    '–¶–µ–π —á—É–≤–∞–∫ —Ç—É–ø–æ –Ω–µ –º–æ–∂–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø–æ—Å–ø—ñ–ª–∫—É–≤–∞—Ç–∏—Å—å ü§¶‚Äç‚ôÇÔ∏è',
    '–¢–∏ —â–æ –≤–∑–∞–≥–∞–ª—ñ, —è–∫–µ—Å—å *** –Ω–µ –º–æ–∂–µ—à –≤–∑—è—Ç–∏ —Ç—Ä—É–±–∫—É? üßê',
    '–¢–∏ —Ä–µ–∞–ª—å–Ω–æ *** –∞–±–æ —â–æ? –î–∑–≤–æ–Ω—é, –∞ —Ç–∏ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à!',
    '–Ø–∫—â–æ —Ü–µ–π *** –∑–Ω–æ–≤—É –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç—å, —è –ø—Ä–æ—Å—Ç–æ –∑–ª–∞–º–∞—é —Ç–µ–ª–µ—Ñ–æ–Ω üì±',
    '–ó–Ω–æ–≤—É –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–≤? –Ü–≥–Ω–æ—Ä—É—î —è–∫ –æ—Å—Ç–∞–Ω–Ω—î ***',
    '–¶–µ–π "–º—ñ–ª–∞—à–∫–∞" –Ω–∞–≤—ñ—Ç—å —Ç—Ä—É–±–∫—É –Ω–µ –±–µ—Ä–µ ü§¨',
    '–ù—É —Ç–∏ —ñ ***! –ü–æ—Å—Ç—ñ–π–Ω–æ —ñ–≥–Ω–æ—Ä—É—î—à –¥–∑–≤—ñ–Ω–∫–∏',
    '–¶–µ–π —Ö–ª–æ–ø–µ—Ü—å –∑–∞*–±–∞–≤, –¥–∑–≤–æ–Ω—é –π–æ–º—É, –∞ –≤—ñ–Ω –≤—Å–µ —ñ–≥–Ω–æ—Ä—É—î üò°',
    '–ó–Ω–æ–≤—É —Ü–µ–π *** –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –¥–∑–≤—ñ–Ω–∫–∏! –Ø –≤–∂–µ –∑–∞–¥–æ–≤–±–∞–≤—Å—è üö´',
    '–¢–∏ —Ä–µ–∞–ª—å–Ω–æ —Ç–∞–∫–∏–π *** –∞–±–æ –ø—Ä–æ—Å—Ç–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à –Ω–∞ –¥–∑–≤—ñ–Ω–∫–∏? ü•¥',
    '–¶–µ–π —á—É–≤–∞–∫ –ø—Ä–æ—Å—Ç–æ *** –Ω–∞–≤—ñ—Ç—å –Ω–µ –±–µ—Ä–µ —Ç—Ä—É–±–∫—É! üîï',
    '–¢–∏ —â–æ, *** –Ω–µ –≤–º—ñ—î—à –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫? ü§¶‚Äç‚ôÄÔ∏è',
    '–¶–µ–π —Ç–∏–ø —Ä–µ–∞–ª—å–Ω–æ —ñ–≥–Ω–æ—Ä—É—î –≤—Å—ñ –¥–∑–≤—ñ–Ω–∫–∏, —è–∫ –º–æ–∂–Ω–∞ —Ç–∞–∫? ***',
    '–ù—É —Ç–∏ —ñ ***! –ù–∞–≤—ñ—â–æ –≤–∑–∞–≥–∞–ª—ñ —Ç–µ–ª–µ—Ñ–æ–Ω, —è–∫—â–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î—à? üò§',
    '–¶–µ–π —Ö–ª–æ–ø–µ—Ü—å –ø—Ä–æ—Å—Ç–æ –Ω–µ —Ä–æ–∑—É–º—ñ—î, —â–æ –¥–∑–≤—ñ–Ω–∫–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ –±—Ä–∞—Ç–∏ ***',
    '–¶–µ–π "–º–∏–ª–∞—à–∫–∞" –Ω–∞–≤—ñ—Ç—å –Ω–∞ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, ***',
    '–ß—É–≤–∞–∫, —Ç–∏ —è–∫–µ—Å—å *** –Ω–µ –º–æ–∂–µ—à –Ω–æ—Ä–º–∞–ª—å–Ω–æ –ø–æ–≥–æ–≤–æ—Ä–∏—Ç–∏ üìû',
    '–¶–µ–π –ø—É–ø—Å —Ä–µ–∞–ª—å–Ω–æ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –¥–∑–≤—ñ–Ω–∫–∏, —â–æ –∑–∞ –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è? ***',
    '–ù–µ–≤–∂–µ —Ç–∞–∫ –≤–∞–∂–∫–æ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏ –Ω–∞ –¥–∑–≤—ñ–Ω–æ–∫, ***?',
    '–¢–∏ —â–æ, –∑–æ–≤—Å—ñ–º ***? –Ü–≥–Ω–æ—Ä—É—î—à —É—Å—ñ—Ö –Ω–∞ —Å–≤—ñ—Ç—ñ üò°',
    '–¶–µ–π —Ç–∏–ø —Ä–µ–∞–ª—å–Ω–æ —ñ–≥–Ω–æ—Ä—É—î –¥–∑–≤—ñ–Ω–∫–∏, —Å–∫—ñ–ª—å–∫–∏ –º–æ–∂–Ω–∞? ***',
    '–ù–µ –º–æ–∂—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —á–æ–º—É —Ü–µ–π *** –Ω–µ –±–µ—Ä–µ —Ç—Ä—É–±–∫—É, –∞–±—Å–æ–ª—é—Ç–Ω–æ –Ω–µ –ø–æ–≤–∞–∂–∞—î –ª—é–¥–µ–π ü§¨',
    '–¢–∏ –≤–∑–∞–≥–∞–ª—ñ *** –∞–±–æ –ø—Ä–æ—Å—Ç–æ –ª—ñ–Ω—É—î—à—Å—è –Ω–æ—Ä–º–∞–ª—å–Ω–æ –≤—ñ–¥–ø–æ–≤—ñ—Å—Ç–∏? ü§î',
    '–¢–∏ –Ω–µ –≤–≤–∞–∂–∞—î—à –∑–∞ –ø–æ—Ç—Ä—ñ–±–Ω–µ –±—Ä–∞—Ç–∏ —Ç—Ä—É–±–∫—É? –ü–æ—Ç—Ä—ñ–±–Ω–æ –ø–æ–≤–∞–∂–∞—Ç–∏ —Ö–æ—á–∞ –± —Ç—Ä–æ—Ö–∏ –ª—é–¥–µ–π, ***',
    '–¶–µ–π *** –Ω–∞–≤—ñ—Ç—å –Ω–∞ –∫–æ—Ä–æ—Ç–∫—ñ –¥–∑–≤—ñ–Ω–∫–∏ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î, –Ω—É–¥–Ω–æ –∑ —Ç–æ–±–æ—é üòë',
    '–¢–∏ —â–æ, ***? –î–∑–≤–æ–Ω–∏—à —ñ –≤—ñ–Ω –Ω–µ –±–µ—Ä–µ —Ç—Ä—É–±–∫—É, —ñ–≥–Ω–æ—Ä—É—î –≤—Å–µ üõë',
    '–¶–µ–π —Ç–∏–ø –ø—Ä–æ—Å—Ç–æ –Ω–µ –∑–Ω–∞—î, —è–∫ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—Ç–∏ –Ω–∞ –¥–∑–≤—ñ–Ω–∫–∏, —è–∫–∏–π—Å—å ***',
    '–ù–µ –º–æ–∂—É –∑—Ä–æ–∑—É–º—ñ—Ç–∏, —â–æ –∑ –Ω–∏–º –Ω–µ —Ç–∞–∫, –∞–±–æ –≤ –Ω—å–æ–≥–æ –Ω—ñ–∫–æ–ª–∏ –Ω–µ–º–∞—î —á–∞—Å—É? ***',
    '–¶–µ–π —á—É–≤–∞–∫ —Ä–µ–∞–ª—å–Ω–æ –Ω–µ –±–µ—Ä–µ —Ç—Ä—É–±–∫—É, —è–∫–µ –≤—ñ–¥–Ω–æ—à–µ–Ω–Ω—è? ***'
  ]  
  // –í–∏–ø–∞–¥–∫–æ–≤–æ –≤–∏–±–∏—Ä–∞—î–º–æ –∫–æ–º–µ–Ω—Ç–∞—Ä
  const isPositive = Math.random() > 0.5; // 50% —à–∞–Ω—Å –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–∏–π –∞–±–æ –Ω–µ–≥–∞—Ç–∏–≤–Ω–∏–π –∫–æ–º–µ–Ω—Ç–∞—Ä
  const comment = isPositive
    ? positiveComments[Math.floor(Math.random() * positiveComments.length)]
    : negativeComments[Math.floor(Math.random() * negativeComments.length)];

  // –î–æ–¥–∞—î–º–æ –≤–∏–ø–∞–¥–∫–æ–≤—ñ –ø–æ–º–∏–ª–∫–∏ –≤ —Ç–µ–∫—Å—Ç –∫–æ–º–µ–Ω—Ç–∞—Ä—è (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∑–∞–º—ñ–Ω–∞ –ª—ñ—Ç–µ—Ä)
  const errors = Math.random() > 0.7; // 30% —à–∞–Ω—Å –Ω–∞ –ø–æ–º–∏–ª–∫—É
  // if (errors) {
  //   return comment.split('').map(char => (Math.random() > 0.9 ? faker.random.alphaNumeric(1) : char)).join('');
  // }

  return comment;
}

// –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –∑–∞–ø–∏—Å—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤ –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö
async function saveCommentToDB(phoneNumber, comment) {
  try {
    const query = 'INSERT INTO phone_comments (phone, comment) VALUES ($1, $2)';
    await pool.query(query, [phoneNumber, comment]);
    console.log(`–ö–æ–º–µ–Ω—Ç–∞—Ä –¥–ª—è –Ω–æ–º–µ—Ä–∞ ${phoneNumber} —É—Å–ø—ñ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω–∏–π.`);
  } catch (err) {
    console.error('–ü–æ–º–∏–ª–∫–∞ –ø—Ä–∏ –∑–∞–ø–∏—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—è –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö:', err);
  }
}

// –ì–æ–ª–æ–≤–Ω–∞ —Ñ—É–Ω–∫—Ü—ñ—è –¥–ª—è —Ü–∏–∫–ª—ñ—á–Ω–æ–≥–æ –∑–∞–ø–∏—Å—É –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤
async function generateAndSaveComments() {
  let count = 0;

  for (let i = 0; i <= 999999; i++) {
    const phoneNumber = generatePhoneNumber();
    const comment = generateComment();

    await saveCommentToDB(phoneNumber, comment);

    // –í–∏–≤–æ–¥–∏–º–æ –ø—Ä–æ–≥—Ä–µ—Å –∫–æ–∂–Ω—ñ 1000 –∑–∞–ø–∏—Å—ñ–≤
    count++;
    if (count % 1000 === 0) {
      console.log(`–ó–∞–ø–∏—Å–∞–Ω–æ ${count} –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ–≤...`);
    }
  }

  console.log('–í—Å—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ —É—Å–ø—ñ—à–Ω–æ –∑–∞–ø–∏—Å–∞–Ω—ñ.');
}

// –ó–∞–ø—É—Å–∫–∞—î–º–æ –ø—Ä–æ—Ü–µ—Å –≥–µ–Ω–µ—Ä–∞—Ü—ñ—ó —Ç–∞ –∑–∞–ø–∏—Å—É
// generateAndSaveComments().catch(err => console.error('–ü–æ–º–∏–ª–∫–∞:', err));




bot.launch()
// –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
bot.catch((err) => {
    console.error('Error occurred', err);
  });
// Enable graceful stop
process.once('SIGINT', () => bot.stop('SIGINT'))
process.once('SIGTERM', () => bot.stop('SIGTERM'))